%%% =================================================================
%%% @author Liu HuiDong
%%% @date  16-3-2
%%% @copyright huidong.liu@qingteng.me
%%% @doc @todo Add description to chkqtapp_msg
%%% =================================================================

-module(chkqtapp_msg).
-author("Liu HuiDong").

-include("msg_type.hrl").
-include("types.hrl").
-include("sim_agent.hrl").
%%% =================================================================
%%% API functions
%%% =================================================================
-export([msg/4]).

%%% -----------------------------------------------------------------
%%% @spec msg/4
%%% @args   Type| From| To :: integer(), Body :: #{}
%%% @return {reply, {Type, To, From, Body}} | noreply
%%% -----------------------------------------------------------------
msg(Type, From, _To, #{<<"req_id">> := ReqId})->
    Body =
         #{<<"req_id">> => ReqId,
          <<"ret_code">> => 0,
          <<"ret_msg">> => [#{<<"app_name">> => <<"bash">>,
             <<"bin_path">> => <<"/bin/bash">>,
             <<"bypass_ip">> => <<>>,
             <<"install">> => 0,
             <<"version">> => <<>>}]},
    {reply, [{Type, 16#9B000000, From, Body}]}.

%%% =================================================================
%%% Internal functions
%%% =================================================================

%%% -----------------------------------------------------------------
%%% function/0
%%% -----------------------------------------------------------------